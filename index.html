<!doctype html>
<head>
<meta charset="utf-8">
<title>Title Here</title>

<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320" />
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">

<link rel="stylesheet" href="css/style.css?v=1">

<script src="http://js.api.here.com/v3/3.0/mapsjs-core.js" type="text/javascript" charset="utf-8"></script>
<script src="http://js.api.here.com/v3/3.0/mapsjs-service.js" type="text/javascript" charset="utf-8"></script>
<script src="http://js.api.here.com/v3/3.0/mapsjs-ui.js" type="text/javascript" charset="utf-8"></script>
<script type="text/javascript" src="https://js.api.here.com/v3/3.0/mapsjs-mapevents.js"></script>
<script type="text/javascript" charset="UTF-8" src="http://js.api.here.com/v3/3.0/mapsjs-places.js"></script>

<link rel="stylesheet" type="text/css" href="http://js.api.here.com/v3/3.0/mapsjs-ui.css" />

</head>
<body>

    <div id="destination-prompt">
        <h1>Where do you want to go?</h1>
        <input id="destination-address" type="text">
        <h1>When do you need to get there?</h1>
        <input id="destination-time" type="time" required>
        <p>
            <button id="go-btn" onClick="document.getElementById('destination-prompt').className +=' hidden'">Go!</button>
        </p>
    </div>

    <div id="container">
        <div id="main">
            <div id="map">

            </div>
        </div>
    </div>


    <script src="src/config.js"></script>

    <script src="src/currentPosition.js"></script>
    <!-- <script src="src/currentTime.js"></script> -->


    <!-- <script src="src/fakeCurrentPosition.js"></script> -->
    <script src="src/fakeCurrentTime.js"></script>

    <script src="src/here.js"></script>
    <script src="src/api.js"></script>
    <script src="src/map.js"></script>

    <script>
        watchTime(console.log);
        // watchPosition(console.log, console.error, {});

        setFakeTime(10000);

        (async function() {
            let tomasza = await api.geocode('tomasza 20, kraków');
            let grodzka = await api.geocode('grodzka 20, kraków');
            
            const routeTomaszaGrodzka = await api.route(tomasza, grodzka);
            map.addRoute(routeTomaszaGrodzka);
            
            const eatDrinkNearTomasza = await api.pois(tomasza, 200, 'eat-drink');
            console.log(`Tomasza 20 latlng`, tomasza, `Grodzka 20 latlng`, grodzka, 'Route Tomasza 20 - Grodzka 20', routeTomaszaGrodzka, 'eat-drink withing 200m of Tomasza 20', eatDrinkNearTomasza);
            
            // map.addPois(eatDrinkNearTomasza);
            map.addPoisAlongRoute(routeTomaszaGrodzka, 200, 'eat-drink');
        })();        
    </script>

</body>